{% extends 'MLTicketingBundle::layout.html.twig' %}

{% block title %} Réservation {{ parent() }}{% endblock %}

{% block stylesheets %}
{{ parent() }}
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<link rel="stylesheet" href="{{ asset('bundles/mlticketing/css/booking.css') }}" type="text/css" />
{% endblock %}

{%  block booking %}
    <div class="row">
        <div class="col-xs-12">
            <h1>Réservez vos billets !</h1>
            <div class="jumbotron">
                <h2>Informations complémentaires pour la réservation en ligne.</h2>
                <ul>
                    <li>Deux types de billets sont disponibles à la vente : le billet « Journée » et le billet « Demi-journée ». Ce dernier ne permet de rentrer qu’à partir de 14h00.</li>
                    <li>Bien évidemment, il n’est pas possible de réserver pour les jours passés.</li>
                    <li>La vente de tickets en ligne pour les dimanches n'est pas encore disponible ainsi que pour les jours fériés.</li>
                    <li>Nous sommes également dans l'incapacité de vendre des billets les jours où plus de 1000 billets ont été vendus afin de ne pas dépasser la capacité du musée.</li>
                    <li>Vous ne pouvez pas commander plus de 10 billets à la fois. Pour toute commande supérieure, renseignez-vous auprès de l'accueil pour obtenir le tarif groupe.</li>
                </ul>
                <p>Nous vous remercions pour votre compréhension.</p>
            </div>
        </div>
    </div>

    <div class="sticky col-xs-offset-3 col-xs-6 col-sm-offset-9 col-sm-3 col-md-offset-10 col-md-2"><i class="fa fa-shopping-basket" aria-hidden="true"></i>&nbsp;Panier : <span id="basket"></span>€</div>

    <div class="row">

        {{ form_start(form, {'attr': {'id' : 'bookingForm', 'class': 'form-horizontal'}}) }}

        {{ form_errors(form) }}

        <div class="col-md-offset-3 col-md-6 well form-shadow">
            {{ form_row(form.visitDay, {'label': 'Sélectionnez le jour de visite' }) }}

            {{ form_row(form.email) }}

            {{ form_row(form.daily, { 'label': 'Type de billet(s)' }) }}

            {{ form_row(form.ticket_number, { 'label': 'Nombre de billet(s)' }) }}

            <p class="temporary text-center">Sélectionnez un jour de visite pour commencer!</p>
        </div>

        <div>
            {{ form_row(form.tickets) }}
        </div>

        <div class="col-xs-12">
            {{ form_widget(form.save, {'attr': {'class': 'btn btn-info center-block'}, 'label': 'Valider'}) }}
        </div>

        {{ form_rest(form) }}

        {{ form_end(form) }}

    </div>

{% endblock %}

{% block javascript %}
    <script  src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script  src="http://cdnjs.cloudflare.com/ajax/libs/jquery-form-validator/2.3.26/jquery.form-validator.min.js"></script>
    <script  src="https://checkout.stripe.com/checkout.js"></script>
    <script  type="text/javascript" src="{{ asset('bundles/mlticketing/js/stripe.js') }}"></script>
    <script  type="text/javascript" src="{{ asset('bundles/mlticketing/js/validator-form.js') }}"></script>
    <script  type="text/javascript" src="{{ asset('bundles/mlticketing/js/datepicker.js') }}"></script>
    <script  type="text/javascript" src="{{ asset('bundles/mlticketing/js/daily.js') }}"></script>
    <script  type="text/javascript" src="{{ asset('bundles/mlticketing/js/booking.js') }}"></script>

{% endblock %}